(this.webpackJsonpexerciseapp=this.webpackJsonpexerciseapp||[]).push([[0],{61:function(e,t,a){e.exports=a(96)},70:function(e,t,a){},72:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),o=a(10),c=a.n(o),l=(a(66),a(67),a(68),a(69),a(70),a(24)),i=a.n(l),s=a(35),m=a(60),u=a(15),d=a(20),h=a(31),p=(a(72),a(47)),g=a(28);var f=function(e){var t=e.handleLength,a=e.weather,n="";return"undefined"!==typeof a.main&&("Clouds"===a.weather[0].main||"Rains"===a.weather[0].main?n="Don't forget to go with your unbrella today in case it rains today.":"Sunny"===a.weather[0].main&&(n="Dont't forget to out with your Sunglasses in case it's sunny today.")),r.a.createElement("div",null,r.a.createElement("h2",{className:"h3-responsive mt-3"},"Schedule"),r.a.createElement("h4",null,"It is going to be a busy day today. You have ",t," events today."),"undefined"!==typeof a.main?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"h3-responsive mt-3"},a.name,", ",a.sys.country),r.a.createElement(p.a,{style:{width:"40px",height:"40px"},className:"mr-2 mt-2 mb-1"}),r.a.createElement("span",null,a.weather[0].main)," ",r.a.createElement("br",null),r.a.createElement(g.a,{style:{width:"40px",height:"40px"},className:"mr-2 mb-2"}),r.a.createElement("span",{className:"mb-2"},Math.round(a.main.temp)," ",r.a.createElement("i",{style:{fontSize:"30px"}},"\xb0")),r.a.createElement("div",{style:{fontSize:"20px"}},n)):null)},v=a(9);var E=function(){return r.a.createElement("div",null,r.a.createElement(v.h,{color:"indigo",dark:!0},r.a.createElement(v.i,null,r.a.createElement("strong",{className:"white-text"},"Agenda App"))))},y=a(53),b=a.n(y);var w=function(e){var t=e.events,a=e.handleAddBtn,n=e.handleDelete;return r.a.createElement("div",null,r.a.createElement("h2",{className:"my-3"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["January","Febuary","March","April","May","June","July","August","September","October","November","December"],n=t[e.getDay()],r=e.getDate(),o=a[e.getMonth()],c=e.getFullYear();return"".concat(n," ").concat(r," ").concat(o," ").concat(c)}()),"undefined"!==t.length?t.map((function(e){return r.a.createElement("div",{key:e._id,className:"mb-3"},r.a.createElement("div",{className:"media"},r.a.createElement("h4",{className:"h4-responsive font-weight-bold"},b()(e.createdAt).format("LT")),r.a.createElement("div",{className:"media-body ml-3"},r.a.createElement("h5",null,e.title),r.a.createElement(v.b,{className:"float-right",color:"danger",onClick:function(){return n(e._id)},style:{marginTop:"-25px"}},"-"),r.a.createElement("hr",{className:"hr-bold mt-2 mb-2"}),r.a.createElement("div",{className:"media"},r.a.createElement(g.b,{color:"blue"}),r.a.createElement("small",{className:"ml-2"},e.location)))),e.description&&r.a.createElement("div",{className:"p-2 mb-4 mt-2 blue-grey lighten-5 blue-grey lighten-5"},e.description))})):null,r.a.createElement("div",{className:"justify-content-center text-center"},r.a.createElement("button",{className:"btn bg-primary text-white",onClick:a},"Add Event")))},x=a(102),N=a(103);var O=function(e){var t,a=e.handleShow,n=e.handleClose,o=e.handleAddEvent,c=e.handleInputChange;return r.a.createElement(x.a,{show:a,onHide:n},r.a.createElement("form",{className:"mx-3 grey-text",onSubmit:o},r.a.createElement(x.a.Header,{closeButton:!0},r.a.createElement(x.a.Title,null,"Add new event")),r.a.createElement(x.a.Body,null,r.a.createElement(v.g,(t={name:"time",label:"Time",icon:"clock",hint:"12:30",group:!0,type:"text",id:"materialFormRegisterNameEx",onChange:c("time")},Object(u.a)(t,"id","materialFormRegisterNameEx"),Object(u.a)(t,"className","was-validated"),Object(u.a)(t,"required",!0),t)),r.a.createElement(v.g,{name:"title",label:"Title",icon:"edit",hint:"Briefing",group:!0,type:"text",onChange:c("title"),id:"materialFormRegisterNameEx2",className:" was-validated",required:!0}),r.a.createElement(v.g,{name:"location",label:"Location (optional)",icon:"map",group:!0,type:"text",onChange:c("location"),id:"materialFormRegisterNameEx"}),r.a.createElement(v.g,{name:"description",label:"Description (optional)",icon:"sticky-note",group:!0,type:"textarea",onChange:c("description"),id:"materialFormRegisterNameEx4"})),r.a.createElement(x.a.Footer,null,r.a.createElement(N.a,{variant:"secondary",onClick:n},"Close"),r.a.createElement(N.a,{className:"btn",variant:"primary",type:"submit"},"Add"))))};var j=function(){var e=r.a.useState({events:[],modalIsOpen:!1}),t=Object(h.a)(e,2),a=t[0],n=t[1],o=r.a.useState(""),c=Object(h.a)(o,2),l=c[0],p=c[1],g=r.a.useState({}),y=Object(h.a)(g,2),b=y[0],x=y[1];r.a.useEffect((function(){window.navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,a=e.coords.longitude,n="https://api.opencagedata.com/geocode/v1/json?q=".concat(t,"+").concat(a,"&key=7f7c3422b0244b43afc54f31c2ad23c9&language=en&pretty=1"),r="1f92e6337f4dd8d7396a77a9c3dac39f",o="https://api.openweathermap.org/data/2.5/";!function(){var e=Object(s.a)(i.a.mark((function e(){var t,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(n);case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,r=a.results,p(r[0].components.country),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}()();var c=l;!function(){var e=Object(s.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o,"weather?q=").concat(c,"&units=metric&APPID=").concat(r));case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,console.log(a),e.abrupt("return",x(a));case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}()()}),(function(){console.log("failed!")})),fetch("http://localhost:5000/agenda/").then((function(e){return e.json()})).then((function(e){console.log(e),n(Object(d.a)({},a,{events:e}))})).catch((function(e){return console.log(e)}))}),[l]);var N=a.events;return console.log(l),r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement(v.e,{className:"App"},r.a.createElement(v.l,null,r.a.createElement(v.d,{md:"9"},r.a.createElement(O,{handleShow:a.modalIsOpen,handleClose:function(){n((function(){return Object(d.a)({},a,{modalIsOpen:!a.modalIsOpen})}))},handleAddEvent:function(e){var t=a.events.length?a.events[a.events.length-1].id+1:1,r=a.time,o=a.title,c=a.description,l=a.location;console.log(o,c,l);!function(){var e;e={title:o,description:c,location:l},fetch("http://localhost:5000/agenda/add/",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))}();var i=[];i.push.apply(i,Object(m.a)(a.events).concat([{id:t,time:r,title:o,description:c,location:l}])),n({events:i}),e.preventDefault()},handleInputChange:function(e){return function(t){n(Object(d.a)({},a,Object(u.a)({},e,t.target.value)))}}}),r.a.createElement(w,{events:N,handleAddBtn:function(){n((function(e){return Object(d.a)({},a,{modalIsOpen:!e.modalIsOpen})}))},handleDelete:function(e){fetch("http://localhost:5000/agenda/"+e,{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){return console.log(e)}));var t=a.events.filter((function(t){return t._id!==e}));n((function(){return Object(d.a)({},a,{events:t})}))},key:a._id})),r.a.createElement(v.d,null,r.a.createElement(f,{handleLength:N.length,weather:b})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[61,1,2]]]);
//# sourceMappingURL=main.329c3d54.chunk.js.map